import{s as $,d as k,i as M,f as j,X as Dt,n as Q,x as ft,y as ct,z as mt,A as dt,b as A,a as E,e as O,r as R,k as q,w as de,c as W,t as ae,j as U,u as oe,ab as Ct,l as Le,H as ht,g as It,F as gt,B as Ee,J as De,p as Nt,m as Tt,Y as Ot,V as ve,W as Xe}from"./scheduler.DQMKnMhh.js";import{S as ee,i as te,t as y,a as b,g as B,c as Z,d as D,m as C,b as I,e as N}from"./index.mQ_AmqKT.js";import{v as qt,Y as F,_ as ze,Q as We,j as ie,u as _t,$ as bt,G,z as yt,B as kt,S as ue,a0 as Mt,t as Ae,g as Pt,y as Rt,F as Ht,H as Qt,J as vt,K as zt}from"./VennDiagram.svelte_svelte_type_style_lang.Ly8RmBek.js";import{c as jt,d as v,l as Ft,f as Qe,b as xe,h as Gt,g as Wt,Q as je}from"./inferColumnTypes.B8NFUSHe.js";import{w as Ut}from"./entry.BKxnNclu.js";import{c as wt,f as St,a as Vt}from"./index.DHdkB3bU.js";import{g as Bt,b as $e,E as Zt}from"./BarChart.P3O-aILG.js";function pt(n){const e=jt(n);return v`${e} DESC NULLS LAST`.annotate({label:e==null?void 0:e.label,desc:!0})}const Ve=n=>({value:n,toString:()=>Ft(n)});function Jt(n){let e,r,t,l;const i=n[3].default,a=ft(i,n,n[2],null);return{c(){e=q("div"),r=q("div"),a&&a.c(),this.h()},l(o){e=O(o,"DIV",{class:!0,role:!0});var f=R(e);r=O(f,"DIV",{});var u=R(r);a&&a.l(u),u.forEach(k),f.forEach(k),this.h()},h(){A(e,"class",t="alert "+n[0]+" svelte-1w1ov1c"),A(e,"role","alert")},m(o,f){M(o,e,f),E(e,r),a&&a.m(r,null),l=!0},p(o,f){a&&a.p&&(!l||f&4)&&ct(a,i,o,o[2],l?dt(i,o[2],f,null):mt(o[2]),null),(!l||f&1&&t!==(t="alert "+o[0]+" svelte-1w1ov1c"))&&A(e,"class",t)},i(o){l||(b(a,o),l=!0)},o(o){y(a,o),l=!1},d(o){o&&k(e),a&&a.d(o)}}}function Yt(n){let e,r;return e=new qt({props:{inputType:"Alert",height:"42",error:["No Alert content found"]}}),{c(){N(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){C(e,t,l),r=!0},p:Q,i(t){r||(b(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){D(e,t)}}}function Kt(n){let e,r,t,l;const i=[Yt,Jt],a=[];function o(f,u){return f[1].default?1:0}return e=o(n),r=a[e]=i[e](n),{c(){r.c(),t=j()},l(f){r.l(f),t=j()},m(f,u){a[e].m(f,u),M(f,t,u),l=!0},p(f,[u]){let s=e;e=o(f),e===s?a[e].p(f,u):(B(),y(a[s],1,1,()=>{a[s]=null}),Z(),r=a[e],r?r.p(f,u):(r=a[e]=i[e](f),r.c()),b(r,1),r.m(t.parentNode,t))},i(f){l||(b(r),l=!0)},o(f){y(r),l=!1},d(f){f&&k(t),a[e].d(f)}}}const Fe={default:"base",danger:"negative",success:"positive"},Xt=n=>Object.keys(Fe).includes(n),xt=n=>Xt(n)?(console.warn(`[Alert] The status "${n}" is deprecated. Please use "${Fe[n]}" instead.`),Fe[n]):n;function $t(n,e,r){let{$$slots:t={},$$scope:l}=e;const i=Dt(t);let{status:a="base"}=e;return n.$$set=o=>{"status"in o&&r(0,a=o.status),"$$scope"in o&&r(2,l=o.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&r(0,a=xt(a))},[a,i,l,t]}class er extends ee{constructor(e){super(),te(this,e,$t,Kt,$,{status:0})}}function tr(n){let e;return{c(){e=oe("- ")},l(r){e=ae(r,"- ")},m(r,t){M(r,e,t)},p:Q,d(r){r&&k(e)}}}function rr(n){let e;return{c(){e=oe(n[1])},l(r){e=ae(r,n[1])},m(r,t){M(r,e,t)},p(r,t){t&2&&de(e,r[1])},d(r){r&&k(e)}}}function nr(n){let e,r,t,l,i,a,o,f,u,s=(n[0].dimensionValue??"Missing")+"",c,m,g,w;function L(S,V){return S[0].metric?rr:tr}let T=L(n),h=T(n);return{c(){e=q("div"),r=q("div"),l=U(),i=q("div"),f=U(),u=q("span"),c=oe(s),g=U(),w=q("span"),h.c(),this.h()},l(S){e=O(S,"DIV",{class:!0});var V=R(e);r=O(V,"DIV",{class:!0}),R(r).forEach(k),l=W(V),i=O(V,"DIV",{class:!0,style:!0}),R(i).forEach(k),f=W(V),u=O(V,"SPAN",{class:!0});var P=R(u);c=ae(P,s),P.forEach(k),g=W(V),w=O(V,"SPAN",{class:!0});var z=R(w);h.l(z),z.forEach(k),V.forEach(k),this.h()},h(){A(r,"class",t=F("group-hover:bg-primary/15 dark:group-hover:bg-primary/40 bg-base-100 absolute inset-y-0 left-0 z-[-10] transition-colors w-full",{"bg-base-200":n[2]})),A(i,"class",a=F("bg-primary/10 dark:bg-primary/30 group-hover:bg-primary/15 dark:group-hover:bg-primary/40 absolute inset-y-0 left-0 z-[-10]",{"bg-base-300":n[0].metric===void 0},{"bg-transparent":n[0].metric===null},{"bg-primary/30 dark:bg-primary/60 text-primary-content":n[0].metric&&n[2]})),A(i,"style",o=n[0].metric?"width:"+n[0].percentOfTop*100+"%;transition: width 300ms 300ms, background-color 200ms 0ms; ":"width: 100%;"),A(u,"class",m=F("truncate transition-colors pl-1",{"font-medium":n[2]},{"text-base-content-muted":n[0].dimensionValue===null})),A(w,"class","tabular-nums pr-1"),A(e,"class",F("flex-1 relative truncate flex gap-8 justify-between py-0.5 text-xs "))},m(S,V){M(S,e,V),E(e,r),E(e,l),E(e,i),E(e,f),E(e,u),E(u,c),E(e,g),E(e,w),h.m(w,null)},p(S,[V]){V&4&&t!==(t=F("group-hover:bg-primary/15 dark:group-hover:bg-primary/40 bg-base-100 absolute inset-y-0 left-0 z-[-10] transition-colors w-full",{"bg-base-200":S[2]}))&&A(r,"class",t),V&5&&a!==(a=F("bg-primary/10 dark:bg-primary/30 group-hover:bg-primary/15 dark:group-hover:bg-primary/40 absolute inset-y-0 left-0 z-[-10]",{"bg-base-300":S[0].metric===void 0},{"bg-transparent":S[0].metric===null},{"bg-primary/30 dark:bg-primary/60 text-primary-content":S[0].metric&&S[2]}))&&A(i,"class",a),V&1&&o!==(o=S[0].metric?"width:"+S[0].percentOfTop*100+"%;transition: width 300ms 300ms, background-color 200ms 0ms; ":"width: 100%;")&&A(i,"style",o),V&1&&s!==(s=(S[0].dimensionValue??"Missing")+"")&&de(c,s),V&5&&m!==(m=F("truncate transition-colors pl-1",{"font-medium":S[2]},{"text-base-content-muted":S[0].dimensionValue===null}))&&A(u,"class",m),T===(T=L(S))&&h?h.p(S,V):(h.d(1),h=T(S),h&&(h.c(),h.m(w,null)))},i:Q,o:Q,d(S){S&&k(e),h.d()}}}function lr(n,e,r){let t,{row:l}=e,{formattedValue:i}=e,{selectedValue:a}=e;return n.$$set=o=>{"row"in o&&r(0,l=o.row),"formattedValue"in o&&r(1,i=o.formattedValue),"selectedValue"in o&&r(3,a=o.selectedValue)},n.$$.update=()=>{n.$$.dirty&9&&r(2,t=Array.isArray(a)?a.includes(l.dimensionValue):a===l.dimensionValue)},[l,i,t,a]}class At extends ee{constructor(e){super(),te(this,e,lr,nr,$,{row:0,formattedValue:1,selectedValue:3})}}const Ge=function(n,e){let r="true";return e&&(n=n==null?void 0:n.filter(t=>t.dimension!==e)),(n==null?void 0:n.length)>0&&(r=n.map(t=>{const l=Array.isArray(t.value)?t.value:[t.value],{validValues:i,hasNull:a}=l.reduce((u,s)=>(s===null?u.hasNull=!0:u.validValues.add(`'${s.toString().replaceAll("'","''")}'`),u),{validValues:new Set,hasNull:!1}),o=i.size?`"${t.dimension}" in ( ${[...i].join(",")} )`:"",f=a?`"${t.dimension}" is null`:"";return`( ${[o,f].filter(Boolean).join(" OR ")} )`}).join(" and ")),`( ${r} )`},ir=function(n,e,r,t,l,i){const a=new Qe;a.select({dimensionName:Ve(e.column_name),dimensionValue:v`${e.column_name}`,metric:v`${r}`,case:Ve("mainList")}).from(v`(${n.originalText})`).where(v`${Ge(l,e.column_name)}`).$groupby("dimensionName","dimensionValue").orderby(pt("metric")).limit(t);const o=new Qe;return o.select({dimensionName:Ve(e.column_name),dimensionValue:v`${e.column_name}`,metric:v`${r}`,case:Ve("selectedValue")}).from(v`(${n.originalText})`).where(v`${Ge(l,e.column_name)}`).where(v`${ar(i,e.column_name)}`).$groupby("dimensionName","dimensionValue"),Qe.with({topN:a,selectedRow:o}).select("*").select({percentOfTop:v`metric / max(metric) over ()`}).from(v`(SELECT * FROM "topN" UNION ALL SELECT * FROM "selectedRow")`).toString()},ar=(n,e)=>Array.isArray(n)?n.length===0?"false":`(${n.map(t=>`${e} = '${t==null?void 0:t.replaceAll("'","''")}'`).join(" or ")}) and ${e} not in (select dimensionValue from topN)`:typeof n=="string"?`${e} = '${n==null?void 0:n.replaceAll("'","''")}' and ${e} not in (select dimensionValue from topN)`:"false";function et(n,e,r){const t=n.slice();return t[20]=e[r],t}function tt(n,e,r){const t=n.slice();return t[23]=e[r],t}function or(n){var l;const e=n.slice(),r=(l=yt(e[17],"array"))==null?void 0:l.filter(i=>i.id==="metric");e[18]=r;const t=e[2]?kt(e[2],"number"):e[18][0].format;return e[19]=t,e}function rt(n){let e,r=(n[1]??"")+"",t;return{c(){e=q("span"),t=oe(r),this.h()},l(l){e=O(l,"SPAN",{class:!0});var i=R(e);t=ae(i,r),i.forEach(k),this.h()},h(){A(e,"class","truncate w-1/3 text-right font-semibold")},m(l,i){M(l,e,i),E(e,t)},p(l,i){i&2&&r!==(r=(l[1]??"")+"")&&de(t,r)},d(l){l&&k(e)}}}function ur(n){let e,r="No Records";return{c(){e=q("p"),e.textContent=r,this.h()},l(t){e=O(t,"P",{class:!0,"data-svelte-h":!0}),It(e)!=="svelte-1aan0i7"&&(e.textContent=r),this.h()},h(){A(e,"class","text-xs text-base-content-muted p-2 my-2 w-full border border-dashed rounded")},m(t,l){M(t,e,l)},p:Q,i:Q,o:Q,d(t){t&&k(e)}}}function sr(n){let e,r=[],t=new Map,l,i,a,o=ie(n[17]);const f=s=>s[23].dimensionValue;for(let s=0;s<o.length;s+=1){let c=tt(n,o,s),m=f(c);t.set(m,r[s]=nt(m,c))}let u=n[5].length>0&&lt(n);return{c(){e=q("div");for(let s=0;s<r.length;s+=1)r[s].c();l=U(),u&&u.c(),this.h()},l(s){e=O(s,"DIV",{class:!0,style:!0});var c=R(e);for(let m=0;m<r.length;m+=1)r[m].l(c);l=W(c),u&&u.l(c),c.forEach(k),this.h()},h(){A(e,"class","transition-all"),A(e,"style",i=`min-height:${n[6]}rem;`)},m(s,c){M(s,e,c);for(let m=0;m<r.length;m+=1)r[m]&&r[m].m(e,null);E(e,l),u&&u.m(e,null),a=!0},p(s,c){if(c&131596){o=ie(s[17]),B();for(let m=0;m<r.length;m+=1)r[m].r();r=_t(r,c,f,1,s,o,t,e,bt,nt,l,tt);for(let m=0;m<r.length;m+=1)r[m].a();Z()}s[5].length>0?u?(u.p(s,c),c&32&&b(u,1)):(u=lt(s),u.c(),b(u,1),u.m(e,null)):u&&(B(),y(u,1,1,()=>{u=null}),Z()),(!a||c&64&&i!==(i=`min-height:${s[6]}rem;`))&&A(e,"style",i)},i(s){if(!a){for(let c=0;c<o.length;c+=1)b(r[c]);b(u),a=!0}},o(s){for(let c=0;c<r.length;c+=1)y(r[c]);y(u),a=!1},d(s){s&&k(e);for(let c=0;c<r.length;c+=1)r[c].d();u&&u.d()}}}function nt(n,e){let r,t,l,i,a=Q,o,f,u;return t=new At({props:{row:e[23],selectedValue:e[3],formattedValue:G(e[23].metric,e[19],e[18][0].columnUnitSummary)}}),{key:n,first:null,c(){r=q("div"),N(t.$$.fragment),l=U(),this.h()},l(s){r=O(s,"DIV",{class:!0,role:!0,tabindex:!0});var c=R(r);I(t.$$.fragment,c),l=W(c),c.forEach(k),this.h()},h(){A(r,"class",F("flex transition duration-100 group cursor-pointer")),A(r,"role","button"),A(r,"tabindex","-1"),this.first=r},m(s,c){M(s,r,c),C(t,r,null),E(r,l),o=!0,f||(u=[Ee(r,"click",function(){De(e[9](e[23]))&&e[9](e[23]).apply(this,arguments)}),Ee(r,"keydown",function(){De(e[9](e[23]))&&e[9](e[23]).apply(this,arguments)})],f=!0)},p(s,c){e=s;const m={};c&131072&&(m.row=e[23]),c&8&&(m.selectedValue=e[3]),c&131076&&(m.formattedValue=G(e[23].metric,e[19],e[18][0].columnUnitSummary)),t.$set(m)},r(){i=r.getBoundingClientRect()},f(){St(r),a()},a(){a(),a=wt(r,i,Vt,{duration:300})},i(s){o||(b(t.$$.fragment,s),o=!0)},o(s){y(t.$$.fragment,s),o=!1},d(s){s&&k(r),D(t),f=!1,gt(u)}}}function lt(n){let e=[],r=new Map,t,l,i=ie(n[5]);const a=o=>o[20];for(let o=0;o<i.length;o+=1){let f=et(n,i,o),u=a(f);r.set(u,e[o]=it(u,f))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();t=j()},l(o){for(let f=0;f<e.length;f+=1)e[f].l(o);t=j()},m(o,f){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(o,f);M(o,t,f),l=!0},p(o,f){if(f&131628){i=ie(o[5]),B();for(let u=0;u<e.length;u+=1)e[u].r();e=_t(e,f,a,1,o,i,r,t.parentNode,bt,it,t,et);for(let u=0;u<e.length;u+=1)e[u].a();Z()}},i(o){if(!l){for(let f=0;f<i.length;f+=1)b(e[f]);l=!0}},o(o){for(let f=0;f<e.length;f+=1)y(e[f]);l=!1},d(o){o&&k(t);for(let f=0;f<e.length;f+=1)e[f].d(o)}}}function it(n,e){let r,t,l,i,a=Q,o,f,u;return t=new At({props:{row:{dimensionValue:e[20]},selectedValue:e[3],formattedValue:G(e[20],e[19],e[18][0].columnUnitSummary)}}),{key:n,first:null,c(){r=q("div"),N(t.$$.fragment),l=U(),this.h()},l(s){r=O(s,"DIV",{class:!0,role:!0,tabindex:!0});var c=R(r);I(t.$$.fragment,c),l=W(c),c.forEach(k),this.h()},h(){A(r,"class",F("flex transition duration-100 group cursor-pointer")),A(r,"role","button"),A(r,"tabindex","-1"),this.first=r},m(s,c){M(s,r,c),C(t,r,null),E(r,l),o=!0,f||(u=[Ee(r,"click",function(){De(e[9]({dimensionValue:e[20]}))&&e[9]({dimensionValue:e[20]}).apply(this,arguments)}),Ee(r,"keydown",function(){De(e[9]({dimensionValue:e[20]}))&&e[9]({dimensionValue:e[20]}).apply(this,arguments)})],f=!0)},p(s,c){e=s;const m={};c&32&&(m.row={dimensionValue:e[20]}),c&8&&(m.selectedValue=e[3]),c&131108&&(m.formattedValue=G(e[20],e[19],e[18][0].columnUnitSummary)),t.$set(m)},r(){i=r.getBoundingClientRect()},f(){St(r),a()},a(){a(),a=wt(r,i,Vt,{duration:200})},i(s){o||(b(t.$$.fragment,s),o=!0)},o(s){y(t.$$.fragment,s),o=!1},d(s){s&&k(r),D(t),f=!1,gt(u)}}}function fr(n){let e,r,t,l,i;const a=[sr,ur],o=[];function f(s,c){var m;return c&131080&&(e=null),e==null&&(e=!!(((m=s[17])==null?void 0:m.length)>0||Array.isArray(s[3])&&s[3].length>0)),e?0:1}function u(s,c){return c===0?or(s):s}return r=f(n,-1),t=o[r]=a[r](u(n,r)),{c(){t.c(),l=j()},l(s){t.l(s),l=j()},m(s,c){o[r].m(s,c),M(s,l,c),i=!0},p(s,c){let m=r;r=f(s,c),r===m?o[r].p(u(s,r),c):(B(),y(o[m],1,1,()=>{o[m]=null}),Z(),t=o[r],t?t.p(u(s,r),c):(t=o[r]=a[r](u(s,r)),t.c()),b(t,1),t.m(l.parentNode,l))},i(s){i||(b(t),i=!0)},o(s){y(t),i=!1},d(s){s&&k(l),o[r].d(s)}}}function cr(n){let e=n[7].error+"",r;return{c(){r=oe(e)},l(t){r=ae(t,e)},m(t,l){M(t,r,l)},p(t,l){l&128&&e!==(e=t[7].error+"")&&de(r,e)},d(t){t&&k(r)}}}function mr(n){let e,r;return e=new er({props:{slot:"error",status:"negative",$$slots:{default:[cr]},$$scope:{ctx:n}}}),{c(){N(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){C(e,t,l),r=!0},p(t,l){const i={};l&67108992&&(i.$$scope={dirty:l,ctx:t}),e.$set(i)},i(t){r||(b(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){D(e,t)}}}function dr(n){let e,r,t,l=ze(n[0].column_name)+"",i,a,o,f,u,s,c=n[1]&&rt(n);return u=new We({props:{data:n[4],skeletonClass:"mt-0",$$slots:{error:[mr],default:[fr,({loaded:m})=>({17:m}),({loaded:m})=>m?131072:0]},$$scope:{ctx:n}}}),{c(){e=q("div"),r=q("div"),t=q("span"),i=oe(l),o=U(),c&&c.c(),f=U(),N(u.$$.fragment),this.h()},l(m){e=O(m,"DIV",{class:!0});var g=R(e);r=O(g,"DIV",{class:!0});var w=R(r);t=O(w,"SPAN",{class:!0});var L=R(t);i=ae(L,l),L.forEach(k),o=W(w),c&&c.l(w),w.forEach(k),f=W(g),I(u.$$.fragment,g),g.forEach(k),this.h()},h(){A(t,"class",a=`truncate pl-1 pb-0.5 font-semibold ${n[1]?"w-2/3":""}`),A(r,"class","capitalize border-b flex justify-between items-baseline"),A(e,"class","w-60 flex-shrink-0 sm:w-1/4 text-xs antialiased pr-4 pb-4 overflow-clip")},m(m,g){M(m,e,g),E(e,r),E(r,t),E(t,i),E(r,o),c&&c.m(r,null),E(e,f),C(u,e,null),s=!0},p(m,[g]){(!s||g&1)&&l!==(l=ze(m[0].column_name)+"")&&de(i,l),(!s||g&2&&a!==(a=`truncate pl-1 pb-0.5 font-semibold ${m[1]?"w-2/3":""}`))&&A(t,"class",a),m[1]?c?c.p(m,g):(c=rt(m),c.c(),c.m(r,null)):c&&(c.d(1),c=null);const w={};g&16&&(w.data=m[4]),g&67240172&&(w.$$scope={dirty:g,ctx:m}),u.$set(w)},i(m){s||(b(u.$$.fragment,m),s=!0)},o(m){y(u.$$.fragment,m),s=!1},d(m){m&&k(e),c&&c.d(),D(u)}}}function hr(n,e,r){let t,l,i,a,o=Q,f=()=>(o(),o=ht(V,_=>r(7,a=_)),V);n.$$.on_destroy.push(()=>o());let{dimension:u}=e,{data:s}=e,{metric:c}=e,{metricLabel:m}=e,{limit:g}=e,{fmt:w=void 0}=e;u.column_name.includes(" ")&&(u.column_name=`"${u.column_name}"`);let L=Ct("selected-dimensions");Le(n,L,_=>r(16,i=_));let{multiple:T=!1}=e,h=T?[]:void 0;const S=_=>{Array.isArray(h)?h.includes(_.dimensionValue)?r(3,h=h.filter(H=>H!==_.dimensionValue)):r(3,h=[...h,_.dimensionValue]):h===_.dimensionValue?r(3,h=void 0):r(3,h=_.dimensionValue)};let V,P=!1,z=[];return n.$$set=_=>{"dimension"in _&&r(0,u=_.dimension),"data"in _&&r(10,s=_.data),"metric"in _&&r(11,c=_.metric),"metricLabel"in _&&r(1,m=_.metricLabel),"limit"in _&&r(12,g=_.limit),"fmt"in _&&r(2,w=_.fmt),"multiple"in _&&r(13,T=_.multiple)},n.$$.update=()=>{if(n.$$.dirty&9&&(h===void 0||Array.isArray(h)&&h.length===0?L.update(_=>_.filter(H=>H.dimension!==u.column_name)):L.update(_=>{let H=_.filter(se=>se.dimension!==u.column_name);return H.push({dimension:u.column_name,value:h}),H})),n.$$.dirty&72713&&r(15,t=ir(s,u,c,g,i,h)),n.$$.dirty&49153&&!P&&t&&(f(r(4,V=xe(t,`dimension-cut-${u.column_name}`))),r(14,P=!0)),n.$$.dirty&32768){const _=xe(t);_.loaded?f(r(4,V=_)):Gt(()=>{f(r(4,V=_))},_.fetch())}n.$$.dirty&4096&&r(6,l=1.2*Math.max(g)),n.$$.dirty&24&&Array.isArray(h)&&r(5,z=h.filter(_=>![...V].map(H=>H.dimensionValue).includes(_)))},[u,m,w,h,V,z,l,a,L,S,s,c,g,T,P,t,i]}class gr extends ee{constructor(e){super(),te(this,e,hr,dr,$,{dimension:0,data:10,metric:11,metricLabel:1,limit:12,fmt:2,multiple:13})}}function at(n,e,r){const t=n.slice();return t[14]=e[r],t}function _r(n){let e,r,t,l,i=(n[6]||n[7])&&ot(n),a=ie(n[8]),o=[];for(let u=0;u<a.length;u+=1)o[u]=ut(at(n,a,u));const f=u=>y(o[u],1,1,()=>{o[u]=null});return{c(){e=q("div"),i&&i.c(),r=U(),t=q("div");for(let u=0;u<o.length;u+=1)o[u].c();this.h()},l(u){e=O(u,"DIV",{class:!0});var s=R(e);i&&i.l(s),r=W(s),t=O(s,"DIV",{class:!0});var c=R(t);for(let m=0;m<o.length;m+=1)o[m].l(c);c.forEach(k),s.forEach(k),this.h()},h(){A(t,"class","flex flex-nowrap overflow-auto sm:flex-wrap select-none"),A(e,"class","mt-2")},m(u,s){M(u,e,s),i&&i.m(e,null),E(e,r),E(e,t);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(t,null);l=!0},p(u,s){if(u[6]||u[7]?i?(i.p(u,s),s&192&&b(i,1)):(i=ot(u),i.c(),b(i,1),i.m(e,r)):i&&(B(),y(i,1,1,()=>{i=null}),Z()),s&319){a=ie(u[8]);let c;for(c=0;c<a.length;c+=1){const m=at(u,a,c);o[c]?(o[c].p(m,s),b(o[c],1)):(o[c]=ut(m),o[c].c(),b(o[c],1),o[c].m(t,null))}for(B(),c=a.length;c<o.length;c+=1)f(c);Z()}},i(u){if(!l){b(i);for(let s=0;s<a.length;s+=1)b(o[s]);l=!0}},o(u){y(i),o=o.filter(Boolean);for(let s=0;s<o.length;s+=1)y(o[s]);l=!1},d(u){u&&k(e),i&&i.d(),Ot(o,u)}}}function br(n){let e,r;return e=new ue({props:{title:"No string columns found",error:"Data must contain at least 1 string column. To use DimensionGrid with non-string columns, first cast the columns to strings in your SQL query using '::VARCHAR'"}}),{c(){N(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){C(e,t,l),r=!0},p:Q,i(t){r||(b(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){D(e,t)}}}function yr(n){let e,r;return e=new ue({props:{title:"Error in SQL Query",error:n[0].error}}),{c(){N(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){C(e,t,l),r=!0},p(t,l){const i={};l&1&&(i.error=t[0].error),e.$set(i)},i(t){r||(b(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){D(e,t)}}}function kr(n){let e,r;return e=new ue({props:{title:"Error: data must reference a query",error:`'data' must reference a query. Received: data=${n[0]}. Try data={${n[0]}}`}}),{c(){N(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){C(e,t,l),r=!0},p(t,l){const i={};l&1&&(i.error=`'data' must reference a query. Received: data=${t[0]}. Try data={${t[0]}}`),e.$set(i)},i(t){r||(b(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){D(e,t)}}}function wr(n){let e,r;return e=new ue({props:{title:"Error: data is required",error:"`data` is required"}}),{c(){N(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){C(e,t,l),r=!0},p:Q,i(t){r||(b(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){D(e,t)}}}function ot(n){let e,r;return e=new Mt({props:{title:n[6],subtitle:n[7]}}),{c(){N(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){C(e,t,l),r=!0},p(t,l){const i={};l&64&&(i.title=t[6]),l&128&&(i.subtitle=t[7]),e.$set(i)},i(t){r||(b(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){D(e,t)}}}function ut(n){let e,r;return e=new gr({props:{data:n[0],dimension:n[14],metric:n[1],limit:n[3],metricLabel:n[2],multiple:n[4],fmt:n[5]}}),{c(){N(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){C(e,t,l),r=!0},p(t,l){const i={};l&1&&(i.data=t[0]),l&256&&(i.dimension=t[14]),l&2&&(i.metric=t[1]),l&8&&(i.limit=t[3]),l&4&&(i.metricLabel=t[2]),l&16&&(i.multiple=t[4]),l&32&&(i.fmt=t[5]),e.$set(i)},i(t){r||(b(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){D(e,t)}}}function Sr(n){let e,r,t,l;const i=[wr,kr,yr,br,_r],a=[];function o(f,u){var s;return f[0]===void 0?0:typeof f[0]=="string"?1:(s=f[0])!=null&&s.error?2:f[8].length===0?3:4}return e=o(n),r=a[e]=i[e](n),{c(){r.c(),t=j()},l(f){r.l(f),t=j()},m(f,u){a[e].m(f,u),M(f,t,u),l=!0},p(f,[u]){let s=e;e=o(f),e===s?a[e].p(f,u):(B(),y(a[s],1,1,()=>{a[s]=null}),Z(),r=a[e],r?r.p(f,u):(r=a[e]=i[e](f),r.c()),b(r,1),r.m(t.parentNode,t))},i(f){l||(b(r),l=!0)},o(f){y(r),l=!1},d(f){f&&k(t),a[e].d(f)}}}function Vr(n,e,r){let t,l,i,{data:a}=e,{metric:o="count(*)"}=e,{metricLabel:f=void 0}=e,{limit:u=10}=e,{name:s}=e,{multiple:c=!1}=e,{fmt:m=void 0}=e,{title:g=void 0}=e,{subtitle:w=void 0}=e,L=Ut([]);Le(n,L,h=>r(12,l=h)),Nt("selected-dimensions",L);const T=Wt();return Le(n,T,h=>r(13,i=h)),n.$$set=h=>{"data"in h&&r(0,a=h.data),"metric"in h&&r(1,o=h.metric),"metricLabel"in h&&r(2,f=h.metricLabel),"limit"in h&&r(3,u=h.limit),"name"in h&&r(11,s=h.name),"multiple"in h&&r(4,c=h.multiple),"fmt"in h&&r(5,m=h.fmt),"title"in h&&r(6,g=h.title),"subtitle"in h&&r(7,w=h.subtitle)},n.$$.update=()=>{var h;n.$$.dirty&1&&r(8,t=(h=a==null?void 0:a.columns)==null?void 0:h.filter(S=>S.column_type==="VARCHAR")),n.$$.dirty&6144&&Tt(T,i[s]=Ge(l),i)},[a,o,f,u,c,m,g,w,t,L,T,s,l]}class Lt extends ee{constructor(e){super(),te(this,e,Vr,Sr,$,{data:0,metric:1,metricLabel:2,limit:3,name:11,multiple:4,fmt:5,title:6,subtitle:7})}}function Ar(n){let e,r;return e=new Lt({props:{data:n[10],metric:n[3],metricLabel:n[4],limit:n[0],name:n[5],multiple:n[1],fmt:n[6],title:n[7],subtitle:n[8]}}),{c(){N(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){C(e,t,l),r=!0},p(t,l){const i={};l&1024&&(i.data=t[10]),l&8&&(i.metric=t[3]),l&16&&(i.metricLabel=t[4]),l&1&&(i.limit=t[0]),l&32&&(i.name=t[5]),l&2&&(i.multiple=t[1]),l&64&&(i.fmt=t[6]),l&128&&(i.title=t[7]),l&256&&(i.subtitle=t[8]),e.$set(i)},i(t){r||(b(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){D(e,t)}}}function Lr(n){let e,r;return e=new Lt({props:{data:n[10],metric:n[3],metricLabel:n[4],limit:n[0],name:n[5],multiple:n[1],fmt:n[6],title:n[7],subtitle:n[8]}}),{c(){N(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){C(e,t,l),r=!0},p(t,l){const i={};l&1024&&(i.data=t[10]),l&8&&(i.metric=t[3]),l&16&&(i.metricLabel=t[4]),l&1&&(i.limit=t[0]),l&32&&(i.name=t[5]),l&2&&(i.multiple=t[1]),l&64&&(i.fmt=t[6]),l&128&&(i.title=t[7]),l&256&&(i.subtitle=t[8]),e.$set(i)},i(t){r||(b(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){D(e,t)}}}function Er(n){let e,r;return e=new We({props:{data:n[2],$$slots:{error:[Lr,({loaded:t})=>({10:t}),({loaded:t})=>t?1024:0],default:[Ar,({loaded:t})=>({10:t}),({loaded:t})=>t?1024:0]},$$scope:{ctx:n}}}),{c(){N(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){C(e,t,l),r=!0},p(t,[l]){const i={};l&4&&(i.data=t[2]),l&3579&&(i.$$scope={dirty:l,ctx:t}),e.$set(i)},i(t){r||(b(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){D(e,t)}}}function Dr(n,e,r){let{data:t}=e,{metric:l="count(*)"}=e,{metricLabel:i=void 0}=e,{limit:a=10}=e,{name:o}=e,{multiple:f=!1}=e,{fmt:u=void 0}=e,{title:s=void 0}=e,{subtitle:c=void 0}=e;const m=()=>{try{r(0,a=typeof a=="string"?parseInt(a):a)}catch(g){console.error("Limit must be a integer",g)}};return m(),n.$$set=g=>{"data"in g&&r(2,t=g.data),"metric"in g&&r(3,l=g.metric),"metricLabel"in g&&r(4,i=g.metricLabel),"limit"in g&&r(0,a=g.limit),"name"in g&&r(5,o=g.name),"multiple"in g&&r(1,f=g.multiple),"fmt"in g&&r(6,u=g.fmt),"title"in g&&r(7,s=g.title),"subtitle"in g&&r(8,c=g.subtitle)},n.$$.update=()=>{n.$$.dirty&2&&r(1,f=Ae(f)),n.$$.dirty&1&&m()},[a,f,t,l,i,o,u,s,c]}class pr extends ee{constructor(e){super(),te(this,e,Dr,Er,$,{data:2,metric:3,metricLabel:4,limit:0,name:5,multiple:1,fmt:6,title:7,subtitle:8})}}function st(n,e,r,t="asc"){let l=[...n];e!==r&&r&&l.sort((a,o)=>{const f=a[r],u=o[r];return f===void 0?1:u===void 0?-1:(f<u?-1:f>u?1:0)*(t==="asc"?1:-1)});let i=[...new Set(l.map(a=>a[e]).filter(a=>a!==void 0))];return e===r&&i.sort((a,o)=>(a<o?-1:a>o?1:0)*(t==="asc"?1:-1)),i}function Cr(n){let e,r;return e=new Zt({props:{data:n[0],queryID:n[4],config:n[11],height:n[12],echartsOptions:n[6],seriesOptions:n[7],printEchartsConfig:n[1],evidenceChartTitle:n[5],renderer:n[8],downloadableData:n[2],downloadableImage:n[3],connectGroup:n[9]}}),{c(){N(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){C(e,t,l),r=!0},p(t,l){const i={};l[0]&1&&(i.data=t[0]),l[0]&16&&(i.queryID=t[4]),l[0]&2048&&(i.config=t[11]),l[0]&4096&&(i.height=t[12]),l[0]&64&&(i.echartsOptions=t[6]),l[0]&128&&(i.seriesOptions=t[7]),l[0]&2&&(i.printEchartsConfig=t[1]),l[0]&32&&(i.evidenceChartTitle=t[5]),l[0]&256&&(i.renderer=t[8]),l[0]&4&&(i.downloadableData=t[2]),l[0]&8&&(i.downloadableImage=t[3]),l[0]&512&&(i.connectGroup=t[9]),e.$set(i)},i(t){r||(b(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){D(e,t)}}}function Ir(n){let e,r;return e=new ue({props:{title:"Heatmap",error:n[10]}}),{c(){N(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){C(e,t,l),r=!0},p(t,l){const i={};l[0]&1024&&(i.error=t[10]),e.$set(i)},i(t){r||(b(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){D(e,t)}}}function Nr(n){let e,r,t,l;const i=[Ir,Cr],a=[];function o(f,u){return f[10]?0:1}return e=o(n),r=a[e]=i[e](n),{c(){r.c(),t=j()},l(f){r.l(f),t=j()},m(f,u){a[e].m(f,u),M(f,t,u),l=!0},p(f,u){let s=e;e=o(f),e===s?a[e].p(f,u):(B(),y(a[s],1,1,()=>{a[s]=null}),Z(),r=a[e],r?r.p(f,u):(r=a[e]=i[e](f),r.c()),b(r,1),r.m(t.parentNode,t))},i(f){l||(b(r),l=!0)},o(f){y(r),l=!1},d(f){f&&k(t),a[e].d(f)}}}function Tr(n,e,r,t){return n.map(l=>[`${l[e]}`,`${l[r]}`,l[t]])}function Or(n,e,r){let t,l,i,a,o,f=Q,u=()=>(f(),f=ht(t,d=>r(53,o=d)),t);n.$$.on_destroy.push(()=>f());const{theme:s,resolveColorScale:c}=Pt();Le(n,s,d=>r(52,a=d));let{data:m}=e,{queryID:g}=e,{x:w}=e,{y:L}=e,{xSort:T=void 0}=e,{xSortOrder:h="asc"}=e,{ySort:S=void 0}=e,{ySortOrder:V="asc"}=e,{value:P}=e,{valueFmt:z}=e,{valueLabels:_=!0}=e,{mobileValueLabels:H=!1}=e,{xAxisPosition:se="top"}=e,{xTickMarks:re=!1}=e,{yTickMarks:ne=!1}=e,{title:he=void 0}=e,{subtitle:ge=void 0}=e,Ue=he!==void 0,Be=ge!==void 0,{borders:le=!0}=e,{legend:Y=!0}=e,{filter:K=!1}=e,{colorPalette:Ce=void 0}=e,{colorScale:Ie=void 0}=e,{min:X=void 0}=e,{max:x=void 0}=e,{chartAreaHeight:p=void 0}=e,{xLabelRotation:Ne=void 0}=e,{echartsOptions:Ze=void 0}=e,{seriesOptions:pe=void 0}=e,{printEchartsConfig:fe=!1}=e,{leftPadding:Te=0}=e,{rightPadding:Oe=2}=e,{cellHeight:qe=30}=e,{renderer:Je=void 0}=e,{downloadableData:_e=!0}=e,{downloadableImage:be=!0}=e,{connectGroup:Ye=void 0}=e,{nullsZero:ce=!0}=e,{zeroDisplay:ye="—"}=e,Me,ke,Pe,Re,J,me,He,we,Se,Ke;return n.$$set=d=>{"data"in d&&r(0,m=d.data),"queryID"in d&&r(4,g=d.queryID),"x"in d&&r(26,w=d.x),"y"in d&&r(27,L=d.y),"xSort"in d&&r(28,T=d.xSort),"xSortOrder"in d&&r(29,h=d.xSortOrder),"ySort"in d&&r(30,S=d.ySort),"ySortOrder"in d&&r(31,V=d.ySortOrder),"value"in d&&r(32,P=d.value),"valueFmt"in d&&r(33,z=d.valueFmt),"valueLabels"in d&&r(15,_=d.valueLabels),"mobileValueLabels"in d&&r(16,H=d.mobileValueLabels),"xAxisPosition"in d&&r(34,se=d.xAxisPosition),"xTickMarks"in d&&r(17,re=d.xTickMarks),"yTickMarks"in d&&r(18,ne=d.yTickMarks),"title"in d&&r(5,he=d.title),"subtitle"in d&&r(35,ge=d.subtitle),"borders"in d&&r(19,le=d.borders),"legend"in d&&r(20,Y=d.legend),"filter"in d&&r(21,K=d.filter),"colorPalette"in d&&r(36,Ce=d.colorPalette),"colorScale"in d&&r(37,Ie=d.colorScale),"min"in d&&r(22,X=d.min),"max"in d&&r(23,x=d.max),"chartAreaHeight"in d&&r(24,p=d.chartAreaHeight),"xLabelRotation"in d&&r(38,Ne=d.xLabelRotation),"echartsOptions"in d&&r(6,Ze=d.echartsOptions),"seriesOptions"in d&&r(7,pe=d.seriesOptions),"printEchartsConfig"in d&&r(1,fe=d.printEchartsConfig),"leftPadding"in d&&r(39,Te=d.leftPadding),"rightPadding"in d&&r(40,Oe=d.rightPadding),"cellHeight"in d&&r(41,qe=d.cellHeight),"renderer"in d&&r(8,Je=d.renderer),"downloadableData"in d&&r(2,_e=d.downloadableData),"downloadableImage"in d&&r(3,be=d.downloadableImage),"connectGroup"in d&&r(9,Ye=d.connectGroup),"nullsZero"in d&&r(25,ce=d.nullsZero),"zeroDisplay"in d&&r(42,ye=d.zeroDisplay)},n.$$.update=()=>{if(n.$$.dirty[0]&32768&&r(15,_=_==="true"||_===!0),n.$$.dirty[0]&65536&&r(16,H=H==="true"||H===!0),n.$$.dirty[0]&131072&&r(17,re=re==="true"||re===!0),n.$$.dirty[0]&262144&&r(18,ne=ne==="true"||ne===!0),n.$$.dirty[0]&524288&&r(19,le=le==="true"||le===!0),n.$$.dirty[0]&1048576&&r(20,Y=Y==="true"||Y===!0),n.$$.dirty[0]&2097152&&r(21,K=K==="true"||K===!0),n.$$.dirty[1]&96&&u(r(13,t=c(Ie??Ce??"default"))),n.$$.dirty[0]&2&&r(1,fe=fe==="true"||fe===!0),n.$$.dirty[0]&4&&r(2,_e=Ae(_e)),n.$$.dirty[0]&8&&r(3,be=Ae(be)),n.$$.dirty[0]&33554432&&r(25,ce=Ae(ce)),n.$$.dirty[0]&2147451937|n.$$.dirty[1]&8388511)try{if(Rt(m,[w,L,P]),r(0,m=Bt(m,w,P,L,ce)),X&&(r(22,X=Number(X)),isNaN(X)))throw Error("min must be a number");if(x&&(r(23,x=Number(x)),isNaN(x)))throw Error("max must be a number");if(r(49,we=X??Math.min(...m.map(d=>d[P]))),r(50,Se=x??Math.max(...m.map(d=>d[P]))),r(43,Me=T?st(m,w,T,h):$e(m,w)),r(44,ke=S?st(m,L,S,V):$e(m,L)),r(45,Pe=Tr(m,w,L,P)),r(48,me=yt(m)),me[w].type==="date"||me[L].type==="date")throw Error("Heatmap can only accept string or numeric columns for x and y. If you would like to show dates, cast them to strings in your SQL query before using in the Heatmap.");if(r(46,Re=me[P].format),r(47,J=z?kt(z):Re),p){if(r(24,p=Number(p)),isNaN(p))throw Error("chartAreaHeight must be a number");if(p<=0)throw Error("chartAreaHeight must be a positive number")}r(51,i=p??Math.max(100,ke.length*qe)),r(12,l=`${20+Y*35+Ue*18+Be*18+i}px`),r(11,Ke={textStyle:{fontFamily:"sans-serif"},title:{text:he,subtext:ge},animation:!1,grid:{height:i,top:Ue*20+Be*20+8,left:Te,right:Oe},xAxis:{type:"category",data:Me,splitArea:{show:!0},axisTick:{show:re,alignWithLabel:!1},axisLabel:{interval:0,hideOverlap:!0,rotate:Ne},position:se},yAxis:{type:"category",inverse:!0,data:ke,splitArea:{show:!0},axisTick:{show:ne,alignWithLabel:!1}},tooltip:{trigger:"item",showDelay:0,transitionDuration:.2,confine:!0,axisPointer:{type:"shadow"},formatter(d){return`
					<span id="tooltip" style='font-weight: 600;'>${d.value[1]}</span>
						<br/>
					<span id="tooltip" style='font-weight: 600;'>${d.name}</span>
						<br/>
						<span>${ze(P,J)}: </span>
							<span style='float:right; margin-left: 10px;'>${d.value[2]===0?ye:G(Number.isNaN(d.value[2])?0:d.value[2],J)}</span>`},padding:6,borderRadius:4,borderWidth:1,borderColor:a.colors["base-300"],backgroundColor:a.colors["base-100"],extraCssText:"box-shadow: 0 3px 6px rgba(0,0,0,.15); box-shadow: 0 2px 4px rgba(0,0,0,.12); z-index: 1;",textStyle:{color:a.colors["base-content"],fontSize:12,fontWeight:400},order:"valueDesc"},visualMap:{itemWidth:10,show:Y,min:we,max:Se,calculable:K,orient:"horizontal",left:"center",bottom:"0%",textStyle:{color:a.colors["base-content-muted"]},handleStyle:{borderColor:a.colors["base-100"]},inRange:{color:o},text:K?void 0:[G(Se,J),G(we,J)],formatter(d){return G(d,J)}},series:[{type:"heatmap",data:Pe,label:{show:_,formatter(d){return d.value[2]===0?ye:G(d.value[2],J)}},labelLayout:{hideOverlap:!0},itemStyle:{borderColor:a.colors["base-300"],borderWidth:le?.5:0}}],media:[{query:{maxWidth:400},option:{series:{label:{show:H}}}},{query:{minWidth:400},option:{series:{label:{show:_}}}}]})}catch(d){if(r(10,He=d.message),console.error("Error in Heatmap: "+d.message),Ht)throw He}n.$$.dirty[0]&6145},r(12,l=void 0),r(51,i=void 0),[m,fe,_e,be,g,he,Ze,pe,Je,Ye,He,Ke,l,t,s,_,H,re,ne,le,Y,K,X,x,p,ce,w,L,T,h,S,V,P,z,se,ge,Ce,Ie,Ne,Te,Oe,qe,ye,Me,ke,Pe,Re,J,me,we,Se,i,a,o]}class qr extends ee{constructor(e){super(),te(this,e,Or,Nr,$,{data:0,queryID:4,x:26,y:27,xSort:28,xSortOrder:29,ySort:30,ySortOrder:31,value:32,valueFmt:33,valueLabels:15,mobileValueLabels:16,xAxisPosition:34,xTickMarks:17,yTickMarks:18,title:5,subtitle:35,borders:19,legend:20,filter:21,colorPalette:36,colorScale:37,min:22,max:23,chartAreaHeight:24,xLabelRotation:38,echartsOptions:6,seriesOptions:7,printEchartsConfig:1,leftPadding:39,rightPadding:40,cellHeight:41,renderer:8,downloadableData:2,downloadableImage:3,connectGroup:9,nullsZero:25,zeroDisplay:42},null,[-1,-1])}}function Mr(n){let e;const r=n[6].default,t=ft(r,n,n[7],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,i){t&&t.m(l,i),e=!0},p(l,i){t&&t.p&&(!e||i&128)&&ct(t,r,l,l[7],e?dt(r,l[7],i,null):mt(l[7]),null)},i(l){e||(b(t,l),e=!0)},o(l){y(t,l),e=!1},d(l){t&&t.d(l)}}}function Pr(n){let e,r;const t=[n[4],{data:je.isQuery(n[10])?Array.from(n[10]):n[10]},{queryID:n[5]}];let l={$$slots:{default:[Mr]},$$scope:{ctx:n}};for(let i=0;i<t.length;i+=1)l=ve(l,t[i]);return e=new qr({props:l}),{c(){N(e.$$.fragment)},l(i){I(e.$$.fragment,i)},m(i,a){C(e,i,a),r=!0},p(i,a){const o=a&1072?Qt(t,[a&16&&vt(i[4]),a&1024&&{data:je.isQuery(i[10])?Array.from(i[10]):i[10]},a&32&&{queryID:i[5]}]):{};a&128&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){r||(b(e.$$.fragment,i),r=!0)},o(i){y(e.$$.fragment,i),r=!1},d(i){D(e,i)}}}function Rr(n){let e,r;return e=new zt({props:{slot:"empty",emptyMessage:n[2],emptySet:n[1],chartType:Et,isInitial:n[3]}}),{c(){N(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){C(e,t,l),r=!0},p(t,l){const i={};l&4&&(i.emptyMessage=t[2]),l&2&&(i.emptySet=t[1]),l&8&&(i.isInitial=t[3]),e.$set(i)},i(t){r||(b(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){D(e,t)}}}function Hr(n){let e,r;return e=new ue({props:{slot:"error",title:Et,error:n[10].error.message}}),{c(){N(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){C(e,t,l),r=!0},p(t,l){const i={};l&1024&&(i.error=t[10].error.message),e.$set(i)},i(t){r||(b(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){D(e,t)}}}function Qr(n){let e,r;return e=new We({props:{data:n[0],$$slots:{error:[Hr,({loaded:t})=>({10:t}),({loaded:t})=>t?1024:0],empty:[Rr],default:[Pr,({loaded:t})=>({10:t}),({loaded:t})=>t?1024:0]},$$scope:{ctx:n}}}),{c(){N(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,l){C(e,t,l),r=!0},p(t,[l]){const i={};l&1&&(i.data=t[0]),l&1182&&(i.$$scope={dirty:l,ctx:t}),e.$set(i)},i(t){r||(b(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){D(e,t)}}}let Et="Heatmap";function vr(n,e,r){let t,{$$slots:l={},$$scope:i}=e,{data:a}=e;const o=je.isQuery(a)?a.hash:void 0;let f=(a==null?void 0:a.hash)===o,{emptySet:u=void 0}=e,{emptyMessage:s=void 0}=e,c=a==null?void 0:a.id;return n.$$set=m=>{r(9,e=ve(ve({},e),Xe(m))),"data"in m&&r(0,a=m.data),"emptySet"in m&&r(1,u=m.emptySet),"emptyMessage"in m&&r(2,s=m.emptyMessage),"$$scope"in m&&r(7,i=m.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&r(3,f=(a==null?void 0:a.hash)===o),r(4,t=Object.fromEntries(Object.entries(e).filter(([,m])=>m!==void 0)))},e=Xe(e),[a,u,s,f,t,c,l,i]}class Jr extends ee{constructor(e){super(),te(this,e,vr,Qr,$,{data:0,emptySet:1,emptyMessage:2})}}export{pr as D,Jr as H};
